# Course Management System Backend API

![Node.js](https://img.shields.io/badge/Node.js-43853D?style=for-the-badge&logo=node.js&logoColor=white)
![Express.js](https://img.shields.io/badge/Express.js-404D59?style=for-the-badge&logo=express&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-4EA94B?style=for-the-badge&logo=mongodb&logoColor=white)
![JWT](https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens)

A robust and secure RESTful API backend for a Course Management System. This project was built as an assignment to demonstrate proficiency in Node.js, Express.js, MongoDB, and secure authentication practices using JSON Web Tokens (JWT).

## ğŸ“‹ Table of Contents

- [Project Overview](#project-overview)
- [Features](#features)
- [Technology Stack](#technology-stack)
- [Prerequisites](#prerequisites)
- [Installation & Setup](#installation--setup)
- [Environment Variables](#environment-variables)
- [Running the Application](#running-the-application)
- [API Endpoints](#api-endpoints)
- [Testing](#testing)
- [Project Structure](#project-structure)
- [Future Enhancements](#future-enhancements)
- [Author](#author)

---

## ğŸš€ Project Overview

This API provides the backend functionality for managing online courses. It allows users to register, authenticate, and securely manage course content. The system implements role-based access control to ensure that only authenticated users can perform CRUD (Create, Read, Update, Delete) operations on courses they have created.

---

## âœ¨ Features

- **User Authentication**: Secure registration and login system.
- **JWT-Based Authorization**: Protected routes that require a valid token for access.
- **User Profile Management**: Users can retrieve and update their profile information.
- **Course CRUD Operations**: Full functionality to create, view, update, and delete courses.
- **Data Validation**: Input validation on both the client and server side to ensure data integrity.
- **Secure Password Hashing**: Passwords are hashed using `bcryptjs` before being stored in the database.
- **Error Handling**: Centralized error handling for consistent and clear error responses.

---

## ğŸ›  Technology Stack

- **Backend**: Node.js, Express.js
- **Database**: MongoDB with Mongoose ODM
- **Authentication**: JSON Web Tokens (JWT)
- **Security**: bcryptjs for password hashing
- **Testing**: Jest & Supertest for automated API testing
- **Environment**: dotenv for managing environment variables

---

## ğŸ“¦ Prerequisites

Before you begin, ensure you have the following installed on your machine:
- [Node.js and npm](https://nodejs.org/en/) (v18 or higher recommended)
- A running MongoDB instance (either locally or a cloud service like MongoDB Atlas)

---

## âš™ï¸ Installation & Setup

Follow these steps to get a copy of the project up and running on your local machine.

1.  **Clone the repository**
    ```bash
    git clone https://github.com/your-username/course-management-api.git
    cd course-management-api
    ```

2.  **Install dependencies**
    ```bash
    npm install
    ```

3.  **Create a `.env` file** in the root directory and add the following variables. You can use the provided `.env.example` as a template.

    ```env
    PORT=5000
    MONGODB_URI=mongodb+srv://<user>:<password>@cluster0.xxxxx.mongodb.net/course-management?retryWrites=true&w=majority
    JWT_SECRET=your_generated_jwt_secret_key_here
    JWT_EXPIRE=24h
    NODE_ENV=development
    ```

4.  **Generate a JWT Secret**
    Run the following command in your terminal to generate a secure secret key and paste it into your `.env` file.
    ```bash
    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
    ```

---

## ğŸŒ Running the Application

1.  **Start the server in development mode**
    ```bash
    npm run dev
    ```
    The server will start on `http://localhost:5000`.

2.  **Start the server in production mode**
    ```bash
    npm start
    ```

---

## ğŸ”— API Endpoints

The base URL for all endpoints is `http://localhost:5000`.

### Authentication

| Method | Endpoint          | Description                     | Auth Required | Request Body Example                                                                 |
|--------|-------------------|---------------------------------|---------------|--------------------------------------------------------------------------------------|
| `POST` | `/api/auth/register` | Register a new user             | No            | `{ "name": "John Doe", "email": "john@example.com", "password": "password123", "phoneNumber": "+1234567890" }` |
| `POST` | `/api/auth/login`    | Log in an existing user         | No            | `{ "email": "john@example.com", "password": "password123" }`                          |

### User Profile

| Method | Endpoint          | Description                     | Auth Required | Request Body Example                                                                 |
|--------|-------------------|---------------------------------|---------------|--------------------------------------------------------------------------------------|
| `GET`  | `/api/user/profile`  | Get the logged-in user's profile| Yes           | None                                                                                 |
| `PUT`  | `/api/user/profile`  | Update the user's profile       | Yes           | `{ "name": "John Smith", "phoneNumber": "+0987654321" }`                             |

### Course Management

| Method | Endpoint                 | Description                       | Auth Required | Request Body Example                                                                 |
|--------|--------------------------|-----------------------------------|---------------|--------------------------------------------------------------------------------------|
| `POST` | `/api/courses`           | Create a new course               | Yes           | `{ "title": "Node.js Basics", "description": "Learn Node.js from scratch", "price": 49.99, "duration": "20h", "category": "Backend", "instructorName": "John Doe" }` |
| `GET`  | `/api/courses`           | Get all courses                    | Yes           | None                                                                                 |
| `GET`  | `/api/courses/:id`       | Get a single course by ID          | Yes           | None                                                                                 |
| `PUT`  | `/api/courses/:id`       | Update a course by ID              | Yes           | `{ "price": 39.99 }`                                                                 |
| `DELETE`| `/api/courses/:id`      | Delete a course by ID              | Yes           | None                                                                                 |

**To access protected endpoints, include the following header in your request:**
`Authorization: Bearer <your_jwt_token>`

## ğŸ“ Project Structure

```
course-management-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.js           # MongoDB connection
â”‚   â”‚   â””â”€â”€ jwt.js                # Centralized config loader (env, ports, secrets)
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.js    # Request handling for auth endpoints
â”‚   â”‚   â”œâ”€â”€ userController.js    # Request handling for user endpoints
â”‚   â”‚   â””â”€â”€ courseController.js  # Request handling for course endpoints
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ auth.js    # JWT verification & role checks
â”‚   â”‚   â”œâ”€â”€ validate.js# Request validation handler
â”‚   â”‚   â””â”€â”€ error.js   # Centralized error formatting
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.model.js         # Mongoose schema & model for User
â”‚   â”‚   â””â”€â”€ course.model.js       # Mongoose schema & model for Course
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.routes.js        # /api/auth
â”‚   â”‚   â”œâ”€â”€ user.routes.js        # /api/user
â”‚   â”‚   â””â”€â”€ course.routes.js      # /api/courses
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ generateToken.js      # Token Generator utility
â”‚   â”‚   â””â”€â”€ responseHandler.js    # Standardized API response utility
â”œâ”€â”€ .env                          # Environment variables (DO NOT COMMIT)
â”œâ”€â”€ .env.example                  # Example environment variables
â”œâ”€â”€ .gitignore                    # Files and directories to ignore
â”œâ”€â”€ package-lock.json             # JSON Package lock file
â”œâ”€â”€ package.json                  # Project dependencies and scripts
â”œâ”€â”€ README.md                     # This file
â””â”€â”€ server.js                     # Server entry point and Express app setup
```

---

## ğŸ”® Future Enhancements

- Implement user roles (Admin, Instructor, Student)
- Add course enrollment functionality
- Integrate a payment gateway (e.g., Stripe)
- Implement a course review and rating system
- Add file upload for course images
- Implement pagination for course listings
- Add API documentation with Swagger/OpenAPI

---

## ğŸ‘¨â€ğŸ’» Author

**Pankaj Bepari**
- [GitHub Profile](https://github.com/pankaj72885)
- [LinkedIn Profile](https://www.linkedin.com/in/pankaj-bepari-8aa69013a/)

---